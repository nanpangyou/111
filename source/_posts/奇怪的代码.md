---
title: 奇怪的代码
categories:
  - Note
  - code
tags:
  - blog
  - code
date: 2019-09-11 09:41:40
---

1.

```
<!Doctype html>
<script>
  const x = "sfds";
  console.log(typeof x);   //String
  console.log(typeof window.x);    //undefined
</script>
<script>
  console.log(typeof x);    //String
  console.log(typeof window.x);    //undefined
</script>
```

// es6 开始，let， const， class 声明的全局变量，不属于顶层对象的属性, 上下两个的作用域都是全局

2.

```
const arr = new Array(5).fill([])
arr[0].push('hi')
console.log(arr)
```

![fill数组的结果](奇怪的代码/储存的是数组的地址.jpg)
//如果填充的类型为对象，那么被赋值的是同一个内存地址的对象，而不是深拷贝对象。
[MDN: 当一个对象被传递给 fill 方法的时候, 填充数组的是这个对象的引用。](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/fill)
